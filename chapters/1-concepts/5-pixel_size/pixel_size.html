
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Pixel size &amp; dimensions &#8212; Introduction to Bioimage Analysis</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mycss.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/togglebutton.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="ImageJ: Pixel size &amp; dimensions" href="imagej.html" />
    <link rel="prev" title="Python: Channels &amp; colors" href="../4-colors/python.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script defer data-domain="bioimagebook.github.io" src="https://plausible.io/js/plausible.js"></script>
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../_static/book-logo-smaller.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Introduction to Bioimage Analysis</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../README.html">
                    Introduction to Bioimage Analysis
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Front matter
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../0-preamble/acknowledgements/acknowledgements.html">
   Acknowledgements
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../0-preamble/license.html">
   License
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../0-preamble/disclaimer.html">
   Disclaimer
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Before we begin
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../0-preamble/preface/preface.html">
   Preface
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../0-preamble/reading/reading.html">
   How to read this book
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Introducing images
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../1-images_and_pixels/images_and_pixels.html">
   Images &amp; pixels
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../1-images_and_pixels/imagej.html">
     ImageJ: Images &amp; pixels
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../1-images_and_pixels/python.html">
     Python: Images &amp; pixels
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../2-measurements/measurements.html">
   Measurements &amp; histograms
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../2-measurements/imagej.html">
     ImageJ: Measurements &amp; histograms
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../2-measurements/python.html">
     Python: Measurements &amp; histograms
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../3-bit_depths/bit_depths.html">
   Types &amp; bit-depths
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../3-bit_depths/imagej.html">
     ImageJ: Types &amp; bit-depths
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../3-bit_depths/python.html">
     Python: Types &amp; bit-depths
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../4-colors/colors.html">
   Channels &amp; colors
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../4-colors/imagej.html">
     ImageJ: Channels &amp; colors
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../4-colors/python.html">
     Python: Channels &amp; colors
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="current reference internal" href="#">
   Pixel size &amp; dimensions
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="imagej.html">
     ImageJ:  Pixel size &amp; dimensions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="python.html">
     Python:  Pixel size &amp; dimensions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../6-files/files.html">
   Files &amp; file formats
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../6-files/imagej.html">
     ImageJ: Files &amp; file formats
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../6-files/python.html">
     Python: Files &amp; file formats
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Processing &amp; analysis
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../2-processing/1-processing_and_analysis/processing_and_analysis.html">
   Image processing &amp; analysis
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../2-processing/2-point_operations/point_operations.html">
   Point operations
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../2-processing/2-point_operations/imagej.html">
     ImageJ: Point operations
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../2-processing/3-thresholding/thresholding.html">
   Thresholding
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../2-processing/3-thresholding/imagej.html">
     ImageJ: Thresholding
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../2-processing/4-filters/filters.html">
   Filters
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../2-processing/4-filters/imagej.html">
     ImageJ: Filters
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../2-processing/5-morph/morph.html">
   Morphological operations
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../2-processing/5-morph/imagej.html">
     ImageJ: Morphological operations
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../2-processing/6-transforms/transforms.html">
   Image transforms
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../2-processing/6-transforms/imagej.html">
     ImageJ: Image transforms
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../2-processing/7-multidimensional_processing/multidimensional_processing.html">
   Multidimensional processing
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../2-processing/7-multidimensional_processing/imagej.html">
     ImageJ: Multidimensional processing
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Fluorescence microscopy
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../3-fluorescence/1-formation_overview/formation_overview.html">
   From photons to pixels
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../3-fluorescence/2-formation_spatial/formation_spatial.html">
   Blur &amp; the PSF
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../3-fluorescence/3-formation_noise/formation_noise.html">
   Noise
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../3-fluorescence/4-microscope_types/microscope_types.html">
   Microscopes &amp; detectors
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Appendices
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../appendices/next_steps/next_steps.html">
   Beyond this book
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../appendices/python/python.html">
   Python Primer
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../appendices/macros/macro_intro.html">
   ImageJ: Writing macros
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../appendices/macros/macro_dog.html">
     Difference of Gaussians
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../appendices/macros/macro_simulating.html">
     Simulating image formation
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/bioimagebook/bioimagebook.github.io/main?urlpath=tree/chapters/1-concepts/5-pixel_size/pixel_size.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        
<button onclick="initThebeSBT()"
  class="headerbtn headerbtn-launch-thebe"
  data-toggle="tooltip"
data-placement="left"
title="Launch Thebe"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="headerbtn__text-container">Live Code</span>
</button>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../../_sources/chapters/1-concepts/5-pixel_size/pixel_size.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download notebook file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-code"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        <a href="../../../_sources/chapters/1-concepts/5-pixel_size/pixel_size.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pixel-size">
   Pixel size
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#pixel-sizes-and-measurements">
     Pixel sizes and measurements
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#pixel-sizes-and-detail">
     Pixel sizes and detail
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dimensions">
   Dimensions
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#identifying-dimensions">
     Identifying dimensions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#z-projections">
     Z-Projections
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#orthogonal-slices">
     Orthogonal slices
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Pixel size & dimensions</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pixel-size">
   Pixel size
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#pixel-sizes-and-measurements">
     Pixel sizes and measurements
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#pixel-sizes-and-detail">
     Pixel sizes and detail
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dimensions">
   Dimensions
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#identifying-dimensions">
     Identifying dimensions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#z-projections">
     Z-Projections
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#orthogonal-slices">
     Orthogonal slices
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="pixel-size-dimensions">
<span id="chap-dimensions"></span><span id="chap-pixel-size"></span><h1>Pixel size &amp; dimensions<a class="headerlink" href="#pixel-size-dimensions" title="Permalink to this headline">#</a></h1>
<div class="tip admonition">
<p class="admonition-title">Chapter outline </p>
<ul class="simple">
<li><p>The concept of <strong>pixel size</strong> relates measurements in pixels to physical units</p></li>
<li><p>It can be helpful to think of pixels as little squares – but this is a simplification</p></li>
<li><p>The number of <strong>dimensions</strong> of an image is the number of pieces of information required to identify each pixel</p></li>
</ul>
</div>
<div class="cell tag_hide-cell tag_thebe-init docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>%load_ext autoreload
%autoreload 2

# Default import
import sys
sys.path.append(&#39;../../../&#39;)
from helpers import *

import numpy as np
from matplotlib import pyplot as plt
</pre></div>
</div>
</div>
</div>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">#</a></h2>
<p>Hopefully by now you’re appropriately nervous about accidentally changing pixel values and therefore compromising your image’s integrity.
If in doubt, you’ll always calculate histograms or other measurements before and after trying out something new, to check whether the pixels have been changed.</p>
<p>This chapter explores pixels in more detail, including how they are arranged within an image and how they relate to things in the physical world.</p>
</section>
<section id="pixel-size">
<h2>Pixel size<a class="headerlink" href="#pixel-size" title="Permalink to this headline">#</a></h2>
<p><strong>How big is a pixel?</strong></p>
<p>In one sense, a pixel is just a number: it doesn’t really have a size at all.
However, if we don’t get too philosophical about it<a class="footnote-reference brackets" href="#philosophy" id="id1">1</a>, we intuitively know that the things depicted in our images usually have a size in real life.</p>
<p>The ‘pixel size’ is an idea that helps us translate measurements we make in images to the sizes and positions of things in real life.
We often need to know the pixel size for our images if our analysis results are be meaningful.</p>
<p>One way to think about this in microscopy is to consider the <strong>field of view</strong> of an image, i.e. the width and height of the area that has been imaged.
We can divide the width and height in physical units (often µm) by the number of pixels along that dimension, as shown in <a class="reference internal" href="#fig-px-sizes"><span class="std std-numref">Fig. 34</span></a>.</p>
<p>The result is that we have two value in µm/px, corresponding to the <strong>pixel width</strong> and <strong>pixel height</strong>.
<em>Usually</em> these are the same.</p>
<div class="cell tag_hide-input tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Crop center of an image to a target shape (sz,sz)
im_orig = load_image(&#39;sunny_cell.tif&#39;)
sz = 600
r = (im_orig.shape[0]-sz) // 2
c = (im_orig.shape[1]-sz) // 2
im_orig = im_orig[r:r+sz, c:c+sz, ...]

from skimage.transform import downscale_local_mean, resize
from scipy.ndimage import zoom
im_orig = resize(im_orig, (512, 512))

fig = create_figure()
n_plots = 6
for ii in range(n_plots):
    
    # Downscale if we need to
    if ii &gt; 0:
        im = downscale_local_mean(im_orig, (2**ii, 2**ii))
    else:
        im = im_orig.copy()
    
    # Compute image and pixel sizes
    len_pixels = im.shape[0]
    len_microns = 64
    pixel_size = len_microns/len_pixels
    
    # Show the image
    # We need to &#39;zoom&#39; it to be the same size as the original so that the 
    # arrows line up exactly across figures
    s = im_orig.shape[0]
    show_image(zoom(im, 2**ii, order=0), pos=(2, 3, ii+1))
    color_pixels = (0.6, 0.2, 0.2, 0.9)
    color_microns = (0.2, 0.2, 0.6, 0.9)

    arrow_args = dict(
        xycoords=&#39;data&#39;,
        arrowprops=dict(arrowstyle=&quot;&lt;-&gt;&quot;, shrinkA=0, shrinkB=0, color=color_pixels),
        annotation_clip=False,
        text=&quot;&quot;
    )
    text_args = dict(
        fontsize=&#39;x-small&#39;
    )
    offset = s/15
    
    plt.annotate(xy=(0,-offset), xytext=(s,-offset), **arrow_args)
    plt.text(s/2, -offset*1.5, f&#39;{len_pixels} px&#39;, ha=&#39;center&#39;, **text_args, color=color_pixels)

    plt.annotate(xy=(s+offset,0), xytext=(s+offset,s), **arrow_args, color=color_pixels)
    plt.text(s+offset*1.5, s/2, f&#39;{len_pixels} px&#39;, **text_args, va=&#39;center&#39;, ha=&#39;left&#39;, rotation=&#39;vertical&#39;, color=color_pixels)

    arrow_args[&#39;arrowprops&#39;][&#39;color&#39;] = color_microns
    plt.annotate(xy=(0,s+offset), xytext=(s,s+offset), **arrow_args)
    plt.text(s/2, s+offset*1.5, f&#39;{len_microns} µm&#39;, va=&#39;top&#39;, ha=&#39;center&#39;, **text_args, color=color_microns)

    plt.annotate(xy=(-offset,0), xytext=(-offset,s), **arrow_args)
    plt.text(-offset*1.5, s/2, f&#39;{len_microns} µm&#39;, **text_args, va=&#39;center&#39;, ha=&#39;right&#39;, rotation=&#39;vertical&#39;, color=color_microns)
    
    plt.title(f&#39;Pixel size {pixel_size} µm/px&#39;, pad=20, fontsize=&#39;small&#39;)

plt.tight_layout(pad=1.5)
plt.show()

glue_fig(&#39;fig_pixel_size&#39;, fig)
</pre></div>
</div>
</div>
</div>
<figure class="align-center" id="fig-px-sizes" style="width: 90%">
<div class="cell_output docutils container">
<img alt="../../../_images/pixel_size_3_1.png" src="../../../_images/pixel_size_3_1.png" />
</div>
<figcaption>
<p><span class="caption-number">Fig. 34 </span><span class="caption-text">Images with different pixel sizes.
Whenever the field of view remains the same, the pixel size increases as the number of pixels in the image decreases.</span><a class="headerlink" href="#fig-px-sizes" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="margin align-center" id="id2">
<a class="reference internal image-reference" href="../../../_images/not_squares.png"><img alt="../../../_images/not_squares.png" src="../../../_images/not_squares.png" style="width: 80%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 35 </span><span class="caption-text"><a class="reference external" href="http://alvyray.com/Memos/CG/Microsoft/6_pixel.pdf">A Pixel is <em>Not</em> a Little Square</a></span><a class="headerlink" href="#id2" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<div class="info admonition">
<p class="admonition-title">Pixel squareness </p>
<p>Talking of pixels as having (usually) equal widths and heights makes them sound very square-like, but previously I stated that pixels are not squares – they are just displayed using squares.</p>
<p>This slightly murky philosophical distinction is considered in Alvy Ray Smith’s technical memo (<em>right</em>), the title of which gives a good impression of the central argument.
In short, pushing the pixels-are-square model too far leads to confusion in the end (e.g. what would happen at their ‘edges’?), and does not really match up to the realities of how images are recorded (i.e. pixel values are not determined by detecting light emitted from little square regions, see <a class="reference internal" href="../../3-fluorescence/2-formation_spatial/formation_spatial.html#chap-formation-spatial"><span class="std std-ref">Blur &amp; the PSF</span></a>).
Alternative terms, such as <em>sampling distance</em>, are often used instead of pixel size – and are potentially less misleading.</p>
<p>But ‘pixel size’ is still used commonly in software (including ImageJ), and we will use the term as a useful shorthand.</p>
</div>
<section id="pixel-sizes-and-measurements">
<h3>Pixel sizes and measurements<a class="headerlink" href="#pixel-sizes-and-measurements" title="Permalink to this headline">#</a></h3>
<p>Knowing the pixel size makes it possible to calibrate size measurements. For example, if we measure some structure horizontally in the image and find that it is 10 pixels in length, with a pixel size of 0.5µm, we can deduce that its actual length in reality is (approximately!) 10 × 0.5µm = 5µm.</p>
<p>This conversion is often done within the analysis software, but depends upon the pixel size information being present and correct.
All being well, appropriate pixel sizes will have been written into an image file during acquisition and subsequently read by the software.
Unfortunately, this does not always work out (see <a class="reference internal" href="../6-files/files.html#chap-files"><span class="std std-ref">Files &amp; file formats</span></a>) and so we do always need to check our pixel sizes, and derived measurements of size, for reasonableness.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="88fa095c-4110-4dde-8a66-36c40b04ad10" name="68fb1c63-dad9-4582-a29c-cb9af0f099c1" type="radio">
</input><label class="sd-tab-label" for="88fa095c-4110-4dde-8a66-36c40b04ad10">
Question</label><div class="sd-tab-content docutils">
<p>Suppose we detect a structure and we count that it covers an area spanning 10 pixels.
Suppose also that the pixel width = 2.0 µm and the pixel height is 2.0 µm.</p>
<p>What is the <strong>area</strong> of the structure in µm<sup>2</sup>?</p>
</div>
<input id="d8bd2dc6-3abc-4778-a387-c207d2462292" name="68fb1c63-dad9-4582-a29c-cb9af0f099c1" type="radio">
</input><label class="sd-tab-label" for="d8bd2dc6-3abc-4778-a387-c207d2462292">
Answer</label><div class="sd-tab-content docutils">
<p>40 µm<sup>2</sub></p>
<p>At least that’s the answer I was looking for: 10 x 2µm x 2µm = 40µm<sup>2</sup>.</p>
<p>If you want to be pedantic about it, you might quibble about whether it makes sense to report 2D areas for 3D structures, or the possible impact of measurement error caused by the diffraction limit.</p>
<p>But let’s not be pedantic for now.</p>
</div>
</div>
</section>
<section id="pixel-sizes-and-detail">
<h3>Pixel sizes and detail<a class="headerlink" href="#pixel-sizes-and-detail" title="Permalink to this headline">#</a></h3>
<p>In general, if the pixel size in a microscopy image is large then we cannot see very fine detail (see <a class="reference internal" href="#fig-px-sizes"><span class="std std-numref">Fig. 34</span></a>).
However, the subject becomes complicated by the diffraction of light whenever we are considering scales of hundreds of nanometers, so that acquiring images with smaller pixel sizes does not necessarily bring us extra information – and might even become a hindrance.</p>
<p>This will be explored in more detail in <a class="reference internal" href="../../3-fluorescence/2-formation_spatial/formation_spatial.html#chap-formation-spatial"><span class="std std-ref">Blur &amp; the PSF</span></a> and <a class="reference internal" href="../../3-fluorescence/3-formation_noise/formation_noise.html#chap-formation-noise"><span class="std std-ref">Noise</span></a>.</p>
</section>
</section>
<section id="dimensions">
<h2>Dimensions<a class="headerlink" href="#dimensions" title="Permalink to this headline">#</a></h2>
<section id="identifying-dimensions">
<h3>Identifying dimensions<a class="headerlink" href="#identifying-dimensions" title="Permalink to this headline">#</a></h3>
<p>The concept of <strong>image dimensions</strong> is <em>mostly</em> straightforward, although I’m not aware of any universal definition that all people and all software stick to reliably.</p>
<p>The approach we’ll take here is to say: <strong>the number of dimensions is the number of pieces of information you need to know to identify an individual pixel.</strong></p>
<p>For example, in the most familiar 2D images, we can uniquely identify a pixel if we know its <em>x</em> and <em>y</em> spatial coordinates.</p>
<p>But if we needed to know <em>x</em> and <em>y</em> coordinates, a <em>z</em>-slice number, a color channel and a time point then we would be working with 5D data (<a class="reference internal" href="#fig-dimensions"><span class="std std-numref">Fig. 36</span></a>).
We could throw away one of these dimensions – any one at all – and get a 4D image, and keep going until we have a single pixel remaining: a 0D image.</p>
<p>Throw away that pixel, and we no longer have an image.</p>
<div class="cell tag_hide-cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>fig = create_figure(figsize=(8, 6))
im_full = load_image(&#39;mitosis-single.zip&#39;, volume=True)
im_full = np.moveaxis(im_full, 1, -1)
im_full = im_full.astype(np.float32)
im_full = im_full - np.percentile(im_full, 0.1)
im_full /= np.percentile(im_full, 99.9)
im_full = np.clip(im_full * 255, 0, 255).astype(np.uint8)

im_3d = np.squeeze(im_full[im_full.shape[0]//2, ...])
im_3d = np.flipud(im_3d)
im_2d = np.squeeze(im_3d[..., 1])
im_1d = np.squeeze(im_2d[im_2d.shape[0]//2, ...])
im_0d = np.squeeze(im_1d[im_1d.shape[0]//2, ...])

from matplotlib import gridspec

gs = gridspec.GridSpec(2, 6)

ax = plt.subplot(gs[0, 1:3])
show_image(&#39;images/dims_0.png&#39;, title=&#39;(A) 0 dimensional&#39;, axes=ax)
ax = plt.subplot(gs[0, 3:5])
show_plot(im_1d, title=&#39;(B) 1 dimensional (x)&#39;, axes=ax)
ax = plt.subplot(gs[1, 0:2])
show_image(im_2d, vmin=0, vmax=255, title=&#39;(C) 2 dimensional (xy)&#39;, axes=ax)
ax = plt.subplot(gs[1, 2:4])
show_image(create_rgb(im_3d, colors=[&#39;magenta&#39;, &#39;green&#39;], axis=-1), title=&#39;(D) 3 dimensional (xyc)&#39;, axes=ax)
ax = plt.subplot(gs[1, 4:6])
show_image(&#39;images/mitosis4d.png&#39;, title=&#39;(E) 4 dimensional (xycz)&#39;, axes=ax)

plt.tight_layout()
glue_fig(&#39;fig_dimensions&#39;, fig)
</pre></div>
</div>
</div>
</div>
<figure class="align-center" id="fig-dimensions">
<div class="cell_output docutils container">
<img alt="../../../_images/pixel_size_7_0.png" src="../../../_images/pixel_size_7_0.png" />
</div>
<figcaption>
<p><span class="caption-number">Fig. 36 </span><span class="caption-text">Depictions of images with different numbers of dimensions. (A) A single value is considered to have 0 dimensions. (B–E) Additional dimensions are added, here in the following order: <em>x</em> coordinate (1), <em>y</em> coordinate (2), channel number (3), <em>z</em> slice (4). The volume view in (E) was generated using the <a class="reference external" href="https://imagej.net/plugins/clearvolume">ClearVolume plugin for Fiji</a>.</span><a class="headerlink" href="#fig-dimensions" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<p>Loic A. Royer et al. (2015). “ClearVolume – Open-source live 3D visualization for light sheet microscopy”. <em>Nature Methods</em> 12, 480–481. <a class="reference external" href="https://doi.org/10.1038/nmeth.3372">https://doi.org/10.1038/nmeth.3372</a></p>
</aside>
<figure class="align-center" id="fig-dimensions-5f">
<img alt="../../../_images/mitosis.gif" src="../../../_images/mitosis.gif" />
<figcaption>
<p><span class="caption-number">Fig. 37 </span><span class="caption-text">Visualization of a 5D image (xyczt) using ClearVolume + Fiji.</span><a class="headerlink" href="#fig-dimensions-5f" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>In principle, therefore, 2D images do not need to have <em>x</em> and <em>y</em> dimensions.
The dimensions could be <em>x</em> and <em>z</em>, or <em>y</em> and time, for example.
But while we may play around with the identity of dimensions, the important fact remains: an <em>nD</em> image requires <em>n</em> pieces of information to identify each pixel.</p>
<div class="important admonition">
<p class="admonition-title">Do channels really add a dimension?</p>
<p>There can be some fuzziness in the idea of dimensions, particularly when channels are involved.
If we rigorously follow the approach above, an image with <em>x</em>, <em>y</em> and <em>channels</em> would be 3D… but in practice such images are often (but not always!) called 2D anyway.</p>
<p>‘3D’ is sometimes restricted to mean that there is a <em>z</em> dimension.
If we have an image with <em>x</em>, <em>y</em> and <em>time</em> then we might technically be correct to call it 3D – but that is likely to be confusing, so it’s probably best to refer to a ‘time series’ instead.</p>
<p>I still think that our explanation of the number of dimensions as being ‘the number of things you need to know to identify a pixel’ is a good baseline way to think about it, and corresponds well with the implementation in software and usage in Python/NumPy.
But we need to be prepared to use context to identify when the word ‘dimensions’ is being used with images more casually.</p>
</div>
</section>
<section id="z-projections">
<span id="sec-dims-z-project"></span><h3>Z-Projections<a class="headerlink" href="#z-projections" title="Permalink to this headline">#</a></h3>
<p>The more dimensions we have, the trickier it can be to visualize the entire image effectively.</p>
<p><strong>Z-stacks</strong> are composed of different 2D images (called <strong>slices</strong>) acquired at different focal depths, optionally with an extra channel dimension added as well.</p>
<p>One way to visualize a z-stack is to simply look at each slice individually.</p>
<div class="cell tag_hide-cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>im = load_image(&#39;confocal-series.zip&#39;, volume=True)

# Drop last slice (for space reasons)
im = im[:-1, ...]

# Make the channels the last dimension
if im.shape[1] == 2:
    im = np.moveaxis(im, 1, -1)

# Drop some spatial info too
im = im[:, ::2, ::2, :]

# Convert to float32 and rescale per channel (to simplify display later)
def rescale_per_channel(im: np.ndarray, min_percentile=0.25, max_percentile=99.75):
    im = im.astype(np.float32)
    for c in range(im.shape[-1]):
        im[..., c] = im[..., c] - np.percentile(im[..., ], 0.25)
        im[..., c] = im[..., c] / np.percentile(im[..., ], 99.75)
    return im

im = rescale_per_channel(im)

# Not used, but uncomment to visualize what happens to noisier images
# rng = np.random.default_rng(100)
# im = im + rng.normal(scale=0.1, size=im.shape)
    
# Not used... but uncomment to test code works for 8-bit as well
# im = np.clip(im * 255, 0, 255).astype(np.uint8)

# Dimension order now ZHWC
n_slices = im.shape[0]

fig = create_figure(figsize=(12, 8))
for ii in range(n_slices):
    show_image(create_rgb(im[ii,...], (&#39;green&#39;, &#39;magenta&#39;)), 
               pos=(4, n_slices//4, ii+1), vmin=0, vmax=1, title=f&#39;Slice {ii+1}&#39;)

# plt.tight_layout()
glue_fig(&#39;fig_dimensions_slices&#39;, fig)
</pre></div>
</div>
</div>
</div>
<figure class="align-center" id="fig-dimensions-slices">
<div class="cell_output docutils container">
<img alt="../../../_images/pixel_size_9_0.png" src="../../../_images/pixel_size_9_0.png" />
</div>
<figcaption>
<p><span class="caption-number">Fig. 38 </span><span class="caption-text">Visualizing the slices from a z-stack as separate images. Here, each slice has 2 channels.</span><a class="headerlink" href="#fig-dimensions-slices" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<div class="sd-tab-set docutils">
<input checked="checked" id="8c1695c3-be73-409c-86bc-309f67fbb272" name="f0b3c914-49f0-4244-8082-340cdc6aab52" type="radio">
</input><label class="sd-tab-label" for="8c1695c3-be73-409c-86bc-309f67fbb272">
Question</label><div class="sd-tab-content docutils">
<p>How many dimensions does the z-stack in <a class="reference internal" href="#fig-dimensions-slices"><span class="std std-numref">Fig. 38</span></a> have?</p>
<p><em>Remember: we count channels as a dimension here!</em></p>
</div>
<input id="2b02ec71-d972-428d-a46d-b5cf9306fd38" name="f0b3c914-49f0-4244-8082-340cdc6aab52" type="radio">
</input><label class="sd-tab-label" for="2b02ec71-d972-428d-a46d-b5cf9306fd38">
Answer</label><div class="sd-tab-content docutils">
<p>The image is 4D: x, y, z, channels.</p>
</div>
</div>
<p>Viewing many slices separately is cumbersome.</p>
<p>An efficient way to summarize the information in a z-stack is to compute a <strong>z-projection</strong>.</p>
<p>This generates a new image with the z-dimension essentially removed, i.e. a 3D image becomes 2D, or a 4D image becomes 3D.</p>
<p>The pixel values in the output image depend upon which function was used to compute the projection.
Perhaps the most common is to use a <strong>maximum z-projection</strong>.
For each pixel location in the new image, the maximum value is taken across all the z-slices at the corresponding pixel location in the original image (i.e. the same <em>x</em>, <em>y</em>, <em>c</em> and <em>t</em> coordinate, as appropriate).</p>
<div class="cell tag_hide-cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>im = load_image(&#39;confocal-series.zip&#39;, volume=True)

# Drop last slice (for space reasons)
im = im[:-1, ...]

# Make the channels the last dimension
if im.shape[1] == 2:
    im = np.moveaxis(im, 1, -1)

# Drop some spatial info too
im = im[:, ::2, ::2, :]

# Convert to float32 and rescale per channel (to simplify display later)
im = rescale_per_channel(im)
    
fig = create_figure(figsize=(12, 4))

# Compute projections; retain the same dtype in the output
projections = [
    (&#39;Minimum projection&#39;, im.min(axis=0).astype(im.dtype)),
    (&#39;Mean (average) projection&#39;, im.mean(axis=0).astype(im.dtype)),
    (&#39;Maximum projection&#39;, im.max(axis=0).astype(im.dtype)),
    (&#39;Standard deviation projection&#39;, im.std(axis=0).astype(im.dtype)),
#     # We could justify rescaling the standard deviation for display, because it could be very different from the others
#     (&#39;Standard deviation projection&#39;, rescale_per_channel(im.std(axis=0).astype(im.dtype))),
]
n_proj = len(projections)
for ii, (name, im_proj) in enumerate(projections):
    show_image(create_rgb(im_proj, (&#39;green&#39;, &#39;magenta&#39;)), pos=(1, n_proj, ii+1), 
               title=name, vmin=0, vmax=1)

glue_fig(&#39;fig_dimensions_projection&#39;, fig)
</pre></div>
</div>
</div>
</div>
<figure class="align-center" id="fig-dimensions-projection">
<div class="cell_output docutils container">
<img alt="../../../_images/pixel_size_13_0.png" src="../../../_images/pixel_size_13_0.png" />
</div>
<figcaption>
<p><span class="caption-number">Fig. 39 </span><span class="caption-text">Visualizing a z-stack using z-projections.</span><a class="headerlink" href="#fig-dimensions-projection" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="orthogonal-slices">
<span id="sec-dims-orthogonal"></span><h3>Orthogonal slices<a class="headerlink" href="#orthogonal-slices" title="Permalink to this headline">#</a></h3>
<p>Another useful way to visualize z-stack information is to use <strong>orthogonal slices</strong>.</p>
<p>Conceptually, the z-stack is viewed as a 3D block of pixels (or perhaps, 4D if we count channels).
We choose a single point in the image, and generate three orthogonal views on the image that pass through that point.
We can think of it as looking at the block from three different angles: from above, and from two adjacent sides.</p>
<p>This gives us 3 images, as shown in <a class="reference internal" href="#fig-dimensions-orthogonal"><span class="std std-numref">Fig. 40</span></a>.
Each image depends upon the single point through which the orthogonal views pass.</p>
<div class="cell tag_hide-cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>im = load_image(&#39;confocal-series.zip&#39;, volume=True)

# Make the channels the last dimension
if im.shape[1] == 2:
    im = np.moveaxis(im, 1, -1)

# Drop some spatial info since the detail doesn&#39;t help make the figure any clearer
im = im[:, ::2, ::2, :]

# Convert to float32 and rescale per channel (to simplify display later)
im = im.astype(np.float32)
for c in range(im.shape[-1]):
    im[..., c] = im[..., c] - np.percentile(im[..., ], 0.25)
    im[..., c] = im[..., c] / np.percentile(im[..., ], 99.75)

def show_orthogonal(im, axes, loc=None, projection=None, colors=(&#39;green&#39;, &#39;magenta&#39;), show_slices=False, title=None):
    &quot;&quot;&quot;
    Show orthogonal slices or projections.
    &quot;&quot;&quot;
    from mpl_toolkits.axes_grid1 import make_axes_locatable
    
    if axes is None:
        fig = create_figure()
        ax = fig.gca()
    else:
        ax = axes
        
    if loc is None and projection is None:
        loc = tuple(s//2 for s in im.shape)
    
    # Create axes for orthogonal views
    divider = make_axes_locatable(ax)
    ax_xz = divider.append_axes(&quot;bottom&quot;, 0.5, pad=0.1, sharex=ax)
    ax_yz = divider.append_axes(&quot;left&quot;, 0.5, pad=0.1, sharey=ax)

    # Generate slices or projections
    if projection:
        imxy = projection(im, axis=0)
        imxz = projection(im, axis=2)
        imyz = np.moveaxis(projection(im, axis=1), 0, 1)
    else:
        imxy = im[loc[0],...]
        imxz = im[:, loc[1],...]
        imyz = np.moveaxis(im[:, :, loc[2],:], 0, 1)
        
    show_image(create_rgb(imyz, colors), 
                   axes=ax_yz, vmin=0, vmax=1)
    if show_slices:
        ax_yz.plot([loc[0], loc[0]], [0, im.shape[2]-1], &#39;w--&#39;, linewidth=1)
    ax_yz.set_xlabel(&#39;z&#39;)
    ax_yz.set_xticks([])
    ax_yz.set_ylabel(&#39;y&#39;, rotation=0, va=&#39;center&#39;, ha=&#39;right&#39;)
    ax_yz.set_yticks([])
    ax_yz.set_axis_on()

    show_image(create_rgb(imxy, colors), 
                   axes=ax,
                   vmin=0, vmax=1)
    if show_slices:
        row = loc[1]
        col = loc[2]
        ax.plot([0, im.shape[1]-1], [row, row], &#39;w--&#39;, linewidth=1)
        ax.plot([col, col], [0, im.shape[2]-1], &#39;w--&#39;, linewidth=1)

    show_image(create_rgb(imxz, colors),
                   axes=ax_xz,
                   vmin=0, vmax=1)
    if show_slices:
        ax_xz.plot([0, im.shape[1]-1], [loc[0], loc[0]], &#39;w--&#39;, linewidth=1)
    ax_xz.set_xlabel(&#39;x&#39;)
    ax_xz.set_xticks([])
    ax_xz.set_ylabel(&#39;z&#39;, rotation=0, va=&#39;center&#39;, ha=&#39;right&#39;)
    ax_xz.set_yticks([])
    ax_xz.set_axis_on()
    
    plt.tight_layout()
    
    if title:
        ax.set_title(title)

fig, axes = plt.subplots(1, 3, figsize=(12, 4))
show_orthogonal(im, show_slices=True, axes=axes[0], loc=(2, 50, 50))
show_orthogonal(im, show_slices=True, axes=axes[1])
show_orthogonal(im, show_slices=True, axes=axes[2], loc=(20, 150, 120))

glue_fig(&#39;fig_dimensions_orthogonal&#39;, fig)
</pre></div>
</div>
</div>
</div>
<figure class="align-center" id="fig-dimensions-orthogonal">
<div class="cell_output docutils container">
<img alt="../../../_images/pixel_size_16_0.png" src="../../../_images/pixel_size_16_0.png" />
</div>
<figcaption>
<p><span class="caption-number">Fig. 40 </span><span class="caption-text">Visualizing a z-stack using orthogonal slices at different locations within a z-stack, indicated by dashed lines.</span><a class="headerlink" href="#fig-dimensions-orthogonal" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>The idea of orthogonal views and projections can be combined to give <strong>orthogonal projections</strong>, as shown in <a class="reference internal" href="#fig-dimensions-orthogonal-projections"><span class="std std-numref">Fig. 41</span></a>.
In this case, we don’t need to choose a point through which to pass, because the projections do not depend upon a specific slice location; rather, all pixels contribute to each projection.</p>
<div class="cell tag_remove-output tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>im = load_image(&#39;confocal-series.zip&#39;, volume=True)

# Make the channels the last dimension
if im.shape[1] == 2:
    im = np.moveaxis(im, 1, -1)

# Drop some spatial info since the detail doesn&#39;t help make the figure any clearer
im = im[:, ::2, ::2, :]

# Convert to float32 and rescale per channel (to simplify display later)
im = im.astype(np.float32)
for c in range(im.shape[-1]):
    im[..., c] = im[..., c] - np.percentile(im[..., ], 0.25)
    im[..., c] = im[..., c] / np.percentile(im[..., ], 99.75)
    
fig, axes = plt.subplots(1, 3, figsize=(12, 4))
show_orthogonal(im, projection=np.min, title=&#39;Orthogonal min projection&#39;, axes=axes[0])
show_orthogonal(im, projection=np.mean, title=&#39;Orthogonal mean projection&#39;, axes=axes[1])
show_orthogonal(im, projection=np.max, title=&#39;Orthogonal max projection&#39;, axes=axes[2])

glue_fig(&#39;fig_dimensions_orthogonal_projections&#39;, fig)
</pre></div>
</div>
</div>
</div>
<figure class="align-center" id="fig-dimensions-orthogonal-projections">
<div class="cell_output docutils container">
<img alt="../../../_images/pixel_size_19_0.png" src="../../../_images/pixel_size_19_0.png" />
</div>
<figcaption>
<p><span class="caption-number">Fig. 41 </span><span class="caption-text">Visualizing a z-stack using orthogonal projections.</span><a class="headerlink" href="#fig-dimensions-orthogonal-projections" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<hr class="footnotes docutils" />
<dl class="footnote brackets">
<dt class="label" id="philosophy"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>If we <em>do</em> get too philosophical about it, I would expect there to be issues with ‘know’, ‘size’ and ‘real life’ – and probably many other elements of that sentence.</p>
</dd>
</dl>
</section>
</section>
<div class="toctree-wrapper compound">
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "bioimagebook/bioimagebook.github.io",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./chapters/1-concepts/5-pixel_size"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../4-colors/python.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Python: Channels &amp; colors</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="imagej.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">ImageJ:  Pixel size &amp; dimensions</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Pete Bankhead<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>